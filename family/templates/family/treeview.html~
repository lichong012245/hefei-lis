{% load staticfiles %}
<!DOCTYPE html>
<head>
<link rel="stylesheet" href="{% static "dist/themes/default/style.css" %}"/>
<script src="{% static "dist/libs/jquery.js" %}"></script>
<script src="{% static "dist/jstree.min.js" %}"></script>

<script>
$(function () { $('#jstree_div').on("select_node.jstree", function (e, data) {
           document.location = data.instance.get_node(data.node, true).children('a').attr('href');
    }).jstree({
"plugins" : [ "themes", "ui","search" ]
}); 
var to = false;
  $('#jstree_div_q').keyup(function () {
    if(to) { clearTimeout(to); }
    to = setTimeout(function () {
      var v = $('#jstree_div_q').val();
      $('#jstree_div').jstree(true).search(v);
    }, 250);
  });
});

$('#jstree_div').on("select_node.jstree", function (e, data) {
           document.location = data.instance.get_node(data.node, true).children('a').attr('href');
    }).jstree();


</script>
</head>
<body>


<input type="text" id="jstree_div_q" value="" style="margin:0em auto 1em auto; display:block; padding:4px; border-radius:4px; border:1px solid silver;"/>
   


<div id="jstree_div">


{% for item, info in tree %}
    {% if info.open %}
        <ul><li data-jstree='{"icon":"{% static "dist/themes/default/Person.png" %}"}'>
    {% else %}
        </li><li data-jstree='{"icon":"{% static "dist/themes/default/Person.png" %}"}'>
    {% endif %}

    <a href="{% url 'member-detail' item.pk %}">{{ item }}</a>

    {% for close in info.close %}
        </li></ul>
    {% endfor %}
{% endfor %}
</div>

<div></div>
</body>
</html>
